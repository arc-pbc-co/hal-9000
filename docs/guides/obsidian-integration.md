# Obsidian Integration Guide

HAL 9000 integrates with [Obsidian](https://obsidian.md/) to create an interconnected knowledge base from your research papers. This guide covers setup, note structure, and best practices.

## Overview

When you process a PDF with HAL 9000, it automatically creates:

- **Paper Notes**: Detailed notes for each processed paper
- **Concept Notes**: Notes for key concepts/keywords linked across papers
- **Topic Notes**: Hierarchical topic notes based on the taxonomy
- **Wikilinks**: Bidirectional links connecting related content

## Setting Up the Vault

### Initialize a New Vault

```bash
hal init-vault
```

This creates the vault at the configured path (default: `~/ObsidianVault/HAL9000Research`).

### Use a Custom Path

```bash
hal init-vault --vault-path ~/MyResearchVault
```

Or configure in `config/default.yaml`:

```yaml
hal9000:
  obsidian:
    vault_path: ~/MyResearchVault
```

### Vault Structure

After initialization:

```
HAL9000Research/
├── Papers/              # Paper notes
├── Concepts/            # Concept/keyword notes
├── Topics/              # Topic hierarchy notes
├── Canvas/              # Visual mind maps (Obsidian Canvas)
├── Templates/           # Note templates
│   └── Paper Note.md
├── .obsidian/           # Obsidian configuration
│   ├── app.json         # App settings
│   └── graph.json       # Graph view settings
└── Index.md             # Vault index/home note
```

## Paper Notes

### Structure

Each processed paper gets a detailed note:

```markdown
---
title: "Novel Fe16N2 Synthesis via Plasma Arc"
authors:
  - Smith, J.
  - Johnson, M.
year: 2024
doi: 10.1000/example.123
arxiv_id: null
topics:
  - Magnetic Materials
  - Rare-Earth-Free Magnets
keywords:
  - Fe16N2
  - iron nitride
  - permanent magnet
status: processed
hal9000_id: 1
adam_context_id: null
source_path: "/Users/me/Papers/fe16n2_synthesis.pdf"
created: 2024-01-15T10:30:00
---

# Novel Fe16N2 Synthesis via Plasma Arc

## Metadata
- **Authors**: Smith, J., Johnson, M.
- **Year**: 2024
- **DOI**: [10.1000/example.123](https://doi.org/10.1000/example.123)

## Summary
This paper presents a novel synthesis method for Fe16N2
permanent magnets using plasma arc techniques...

## Key Concepts
- [[Fe16N2]]
- [[iron nitride]]
- [[permanent magnet]]
- [[plasma arc synthesis]]

## Methodology
The authors employed a plasma arc reactor with nitrogen
atmosphere at 1200°C...

## Key Findings
- Fe16N2 phase purity of 95% achieved
- Coercivity of 2.1 T measured at room temperature
- Synthesis time reduced by 50% compared to traditional methods

## Materials
- **Fe16N2**
  - Properties: high saturation magnetization, hard magnetic

## Potential Applications
- Electric vehicle motors
- Wind turbine generators
- Consumer electronics

## ADAM Relevance
Highly relevant for ADAM Platform experiments on rare-earth-free
permanent magnet synthesis optimization.

## Topics
- [[magnetic-materials|Magnetic Materials]] (primary)
- [[rare-earth-free-magnets|Rare-Earth-Free Magnets]]

## Related Papers
_Links will be added as more papers are processed_

## Notes


---
*Processed by HAL 9000 on 2024-01-15 10:30*
```

### Frontmatter

The YAML frontmatter enables:

- **Dataview queries**: Filter papers by author, year, topic
- **Search**: Find papers by any metadata field
- **Templates**: Reference in Obsidian templates
- **Plugins**: Integration with Obsidian plugins

Example Dataview query:

```dataview
TABLE authors, year, topics
FROM "Papers"
WHERE contains(topics, "Magnetic Materials")
SORT year DESC
```

## Concept Notes

### Structure

Concepts are extracted keywords that appear across papers:

```markdown
---
title: Fe16N2
type: concept
related_papers:
  - Novel Fe16N2 Synthesis via Plasma Arc
  - Iron Nitride Permanent Magnets Review
created: 2024-01-15T10:30:00
---

# Fe16N2

## Definition
_Definition not yet added_

## Key Properties
- High saturation magnetization (~2.9 T)
- Tetragonal crystal structure
- Metastable phase

## Applications
- Rare-earth-free permanent magnets
- Electric motors
- Data storage

## Related Concepts
- [[iron nitride]]
- [[permanent magnet]]
- [[rare-earth-free-magnets]]

## Papers Discussing This Concept
- [[Novel Fe16N2 Synthesis via Plasma Arc]]
- [[Iron Nitride Permanent Magnets Review]]

## Notes

---
*Auto-generated by HAL 9000*
```

### Auto-Linking

When a paper mentions a concept, HAL 9000:

1. Creates the concept note if it doesn't exist
2. Adds the paper to the concept's "Papers Discussing" section
3. Links the concept in the paper's "Key Concepts" section

## Topic Notes

### Structure

Topics follow the taxonomy hierarchy:

```markdown
---
title: Rare-Earth-Free Magnets
type: topic
slug: rare-earth-free-magnets
parent_topic: Magnetic Materials
created: 2024-01-15T10:30:00
---

# Rare-Earth-Free Magnets

**Parent Topic**: [[magnetic-materials|Magnetic Materials]]

## Overview
Research on permanent magnets that do not contain rare-earth
elements such as neodymium or samarium.

## Subtopics
_No subtopics_

## Papers in This Topic
- [[Novel Fe16N2 Synthesis via Plasma Arc]]
- [[MnAl Permanent Magnets Study]]
- [[Ferrite Magnet Optimization]]

## Key Concepts
- [[Fe16N2]]
- [[MnAl]]
- [[MnBi]]
- [[ferrite]]

## Research Questions
- Can Fe16N2 achieve room-temperature stability?
- What processing methods optimize coercivity?

## Notes

---
*Auto-generated by HAL 9000*
```

## Wikilinks

HAL 9000 creates bidirectional wikilinks using Obsidian syntax:

### Basic Links

```markdown
[[Paper Title]]
[[Concept Name]]
[[topic-slug|Display Name]]
```

### Link Types

| Link | Points To | Example |
|------|-----------|---------|
| `[[Paper Title]]` | Paper note | `[[Novel Fe16N2 Synthesis]]` |
| `[[concept]]` | Concept note | `[[Fe16N2]]` |
| `[[slug\|Name]]` | Topic note | `[[magnetic-materials\|Magnetic Materials]]` |

### Graph View

The links create a knowledge graph visible in Obsidian's Graph View:

- **Papers** connect to their **topics** and **concepts**
- **Concepts** connect papers that share them
- **Topics** form a hierarchy

## Configuration Options

### obsidian settings in config

```yaml
hal9000:
  obsidian:
    vault_path: ~/ObsidianVault/HAL9000Research
    templates_path: ./templates/obsidian
    create_canvas: true
    auto_link: true
```

| Option | Default | Description |
|--------|---------|-------------|
| `vault_path` | `~/ObsidianVault/HAL9000Research` | Vault location |
| `templates_path` | `./templates/obsidian` | Note templates |
| `create_canvas` | `true` | Generate Canvas files |
| `auto_link` | `true` | Auto-create concept links |

### Skip Note Creation

Process without creating Obsidian notes:

```bash
hal process paper.pdf --no-obsidian
```

## Working with the Vault

### Open in Obsidian

1. Open Obsidian
2. Click "Open folder as vault"
3. Select your vault path (e.g., `~/ObsidianVault/HAL9000Research`)

### Recommended Plugins

These Obsidian plugins enhance HAL 9000 notes:

| Plugin | Purpose |
|--------|---------|
| **Dataview** | Query papers by metadata |
| **Graph Analysis** | Analyze knowledge graph |
| **Templater** | Custom note templates |
| **Citations** | Reference management |
| **Excalidraw** | Visual diagrams |

### Dataview Examples

**Papers by year:**

```dataview
TABLE title, authors
FROM "Papers"
SORT year DESC
LIMIT 10
```

**Papers on a topic:**

```dataview
LIST
FROM "Papers"
WHERE contains(topics, "Solid-State Batteries")
```

**Concepts by paper count:**

```dataview
TABLE length(related_papers) as "Paper Count"
FROM "Concepts"
SORT length(related_papers) DESC
LIMIT 20
```

## Canvas Files

HAL 9000 can generate Obsidian Canvas files for visual mind mapping:

### Enabling Canvas Generation

```yaml
hal9000:
  obsidian:
    create_canvas: true
```

### Canvas Structure

- **Center**: Main topic
- **Surrounding**: Related papers
- **Connections**: Concept relationships

## Customizing Templates

### Paper Note Template

Edit `templates/obsidian/paper_note.md`:

```markdown
---
title: "{{title}}"
authors: {{authors}}
year: {{year}}
...
---

# {{title}}

## My Custom Section
Add your custom sections here

## Summary
{{summary}}

...
```

### Available Variables

| Variable | Description |
|----------|-------------|
| `{{title}}` | Paper title |
| `{{authors}}` | Author list |
| `{{year}}` | Publication year |
| `{{doi}}` | DOI identifier |
| `{{arxiv_id}}` | arXiv ID |
| `{{topics}}` | Assigned topics |
| `{{keywords}}` | Extracted keywords |
| `{{summary}}` | AI-generated summary |
| `{{key_findings}}` | List of findings |
| `{{methodology_summary}}` | Methods summary |
| `{{materials}}` | Materials information |

## Syncing and Backup

### Obsidian Sync

Use Obsidian Sync for cross-device access to your vault.

### Git Backup

Version control your vault:

```bash
cd ~/ObsidianVault/HAL9000Research
git init
git add .
git commit -m "Initial vault"
```

Add to `.gitignore`:

```
.obsidian/workspace.json
.obsidian/workspace-mobile.json
.trash/
```

## Troubleshooting

### Notes Not Appearing

1. Check vault path matches Obsidian's open vault
2. Verify notes exist in the vault directory
3. Refresh Obsidian (Cmd/Ctrl + R)

### Broken Links

Links may break if:

- Paper was processed but note wasn't created (use without `--no-obsidian`)
- Note was manually renamed (update links)
- Vault structure was modified

### Graph Not Updating

1. Close and reopen Obsidian
2. Rebuild the graph: View → Reload app without saving

### Template Issues

If notes don't match templates:

1. Check `templates_path` in config
2. Verify template file exists
3. Check template syntax for errors
